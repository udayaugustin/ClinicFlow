# Nearby Search - View Modes

## Overview
The nearby search feature now has **two display modes** that automatically switch based on whether the user is searching or browsing.

---

## View Mode 1: Card Grid (Default - No Search)

**When:** Nearby mode is ON, but **no search term** entered

**Display:** Grid of clinic cards with images

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Location detected â€¢ Found 12 clinics within 10 km           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Image]    â”‚ [Image]    â”‚ [Image]    â”‚ [Image]    â”‚
â”‚ [1.4 km]   â”‚ [1.6 km]   â”‚ [1.7 km]   â”‚ [1.7 km]   â”‚
â”‚            â”‚            â”‚            â”‚            â”‚
â”‚ Mother's   â”‚ Madhavan   â”‚ Teja       â”‚ Mahalakshmiâ”‚
â”‚ Specialty  â”‚ Eye Care   â”‚ Hospital   â”‚ Hospital   â”‚
â”‚ Hospital   â”‚            â”‚            â”‚            â”‚
â”‚            â”‚            â”‚            â”‚            â”‚
â”‚[View Docs] â”‚[View Docs] â”‚[View Docs] â”‚[View Docs] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Features:**
- âœ… Visual clinic images
- âœ… Distance badge on each card
- âœ… Clean, browsable grid layout
- âœ… Best for exploring all nearby options

---

## View Mode 2: Detailed List (Search Active)

**When:** Nearby mode is ON AND user types a **search term** (e.g., "ENT")

**Display:** List of clinics with specialty and doctor information

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Location detected â€¢ Found 5 clinics within 10 km matching   â”‚
â”‚ "ENT"                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¥ City Medical Center              0 doctors           â€º   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ©º Teja Hospital                                         â€º   â”‚
â”‚    ğŸ©º ENT specialists  â€¢ 1 doctors  â€¢ 1.7 km away           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ©º Mahalakshmi Hospital                                  â€º   â”‚
â”‚    ğŸ©º ENT specialists  â€¢ 1 doctors  â€¢ 1.7 km away           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ©º Mother's Specialty Hospital                           â€º   â”‚
â”‚    ğŸ©º ENT specialists  â€¢ 1 doctors  â€¢ 1.4 km away           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ©º ESSVEE Hospital                                       â€º   â”‚
â”‚    ğŸ©º ENT specialists  â€¢ 1 doctors  â€¢ [distance]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ©º Madhavan Eye Care                                     â€º   â”‚
â”‚    ğŸ©º ENT specialists  â€¢ 1 doctors  â€¢ 1.6 km away           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ©º Clinic1                                               â€º   â”‚
â”‚    ğŸ©º ENT specialists  â€¢ 1 doctors  â€¢ [distance]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Features:**
- âœ… Shows **specialty information** (e.g., "ENT specialists")
- âœ… Shows **number of matching doctors** (e.g., "1 doctors")
- âœ… Shows **distance badge** inline
- âœ… Compact list format for easy scanning
- âœ… Click any row to see full doctor details
- âœ… Perfect for specialty-focused searches

---

## Automatic View Switching

### Scenario 1: Start Browsing
```
User Action          Display Mode
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Toggle ON         â†’ Card Grid (all nearby clinics)
2. Browse clinics    â†’ Card Grid (visual browsing)
```

### Scenario 2: Search for Specialty
```
User Action          Display Mode
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Toggle ON         â†’ Card Grid (all nearby clinics)
2. Type "ENT"        â†’ LIST VIEW (shows ENT info)
3. Click hospital    â†’ Navigate to details
```

### Scenario 3: Clear Search
```
User Action          Display Mode
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. List view active  â†’ List (showing ENT results)
2. Clear search      â†’ Card Grid (back to visual browse)
```

---

## List View Details

### Information Shown Per Clinic

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¥ [Clinic Icon] Hospital Name                           â€º  â”‚
â”‚                                                              â”‚
â”‚    ğŸ©º [Specialty Badge] â€¢ [Doctor Count] â€¢ [Distance]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Components:**
1. **Clinic Icon** - Building icon in blue circle
2. **Hospital Name** - Bold, prominent text
3. **Specialty Badge** - Purple icon + text (e.g., "ENT specialists")
4. **Doctor Count** - Secondary badge (e.g., "1 doctors")
5. **Distance Badge** - Green badge (e.g., "1.7 km away")
6. **Chevron** - Right arrow for navigation

### When Multiple Specialties Match

If a clinic has multiple matching doctors with different specialties:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ©º Apollo Hospital                                       â€º   â”‚
â”‚    ğŸ©º ENT, Cardiology specialists â€¢ 3 doctors â€¢ 2.1 km      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### When Clinic Has No Matching Doctors

If clinic appears but has no doctors matching the search:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¥ City Medical Center              0 doctors           â€º   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
(This clinic matched by name/location, not by specialty)

---

## User Interactions

### In List View

| Action | Result |
|--------|--------|
| Click any clinic row | Navigate to clinic details page |
| Hover over row | Row highlights with shadow effect |
| Clear search box | Switch back to card grid view |
| Type different term | List updates with new matches |

### In Card Grid View

| Action | Result |
|--------|--------|
| Click "View Doctors" | Navigate to clinic details page |
| Start typing search | Switch to list view |
| Hover over card | Card elevates slightly |
| Scroll | Load more cards (if many results) |

---

## Responsive Behavior

### Mobile (< 768px)

**List View:**
- Full width rows
- Stack specialty info below hospital name
- Larger touch targets
- Distance badge wraps if needed

**Card View:**
- 1 column grid
- Larger cards for touch
- Distance badge prominent

### Tablet (768px - 1024px)

**List View:**
- Same as mobile, slightly wider rows
- More content per row

**Card View:**
- 2 column grid
- Medium-sized cards

### Desktop (> 1024px)

**List View:**
- Wide rows showing all info inline
- Compact, scannable format
- Hover effects

**Card View:**
- 3-4 column grid
- Full-sized images
- Hover elevate effects

---

## Code Logic

```typescript
{nearbyEnabled ? (
  filteredNearbyClinics.length === 0 ? (
    <EmptyState />
  ) : searchTerm.trim() ? (
    <ListView clinics={filteredNearbyClinics} />  // â† Shows list with specialty info
  ) : (
    <CardGridView clinics={filteredNearbyClinics} />  // â† Shows image cards
  )
) : (
  <DefaultAllClinicsView />
)}
```

**Decision Tree:**
1. Is nearby mode enabled?
   - No â†’ Show all clinics
   - Yes â†’ Continue...
2. Are there results?
   - No â†’ Show empty state
   - Yes â†’ Continue...
3. Is there a search term?
   - Yes â†’ Show **LIST VIEW** with specialty details
   - No â†’ Show **CARD GRID** with images

---

## Benefits of Dual View System

### List View Benefits
âœ… Shows relevant information immediately (specialty, doctor count)  
âœ… More compact - shows more results at once  
âœ… Easier to scan when you know what you're looking for  
âœ… Better for search-focused users  
âœ… Displays distance inline with other info  

### Card Grid Benefits
âœ… Visual representation with images  
âœ… Better for browsing/exploration  
âœ… More engaging and attractive  
âœ… Easier to recognize familiar clinics  
âœ… Better for users without specific needs  

---

## Examples by Use Case

### Use Case 1: "I need an ENT specialist nearby"
```
1. Toggle ON nearby
2. Type "ENT"
3. See LIST VIEW with:
   - All clinics with ENT doctors
   - How many ENT doctors each has
   - Distance to each clinic
4. Click to book appointment
```

### Use Case 2: "What clinics are near me?"
```
1. Toggle ON nearby
2. Don't search
3. See CARD GRID with:
   - Visual layout of all nearby clinics
   - Images to recognize familiar places
   - Distance badges
4. Browse and explore options
```

### Use Case 3: "Find Dr. Kumar nearby"
```
1. Toggle ON nearby
2. Type "Kumar"
3. See LIST VIEW with:
   - Only clinics where Dr. Kumar works
   - Dr. Kumar's specialty
   - Distance to those clinics
4. Click to see schedule
```

---

## Accessibility

### List View
- âœ… Keyboard navigable (Tab through rows)
- âœ… Enter key to select clinic
- âœ… Screen readers announce specialty and distance
- âœ… High contrast for specialty badges
- âœ… Clear focus indicators

### Card Grid View
- âœ… Grid maintains reading order
- âœ… Images have alt text
- âœ… Cards keyboard accessible
- âœ… Distance badges readable by screen readers

---

## Future Enhancements

1. **Toggle Button** - Let users manually switch between views
2. **Remember Preference** - Save user's preferred view in localStorage
3. **Sort Options** - Sort list by distance, rating, or doctor count
4. **Expand/Collapse** - Show doctor names inline in list view
5. **Map View** - Third view mode showing clinics on map
