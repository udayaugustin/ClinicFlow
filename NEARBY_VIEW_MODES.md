# Nearby Search - View Modes

## Overview
The nearby search feature now has **two display modes** that automatically switch based on whether the user is searching or browsing.

---

## View Mode 1: Card Grid (Default - No Search)

**When:** Nearby mode is ON, but **no search term** entered

**Display:** Grid of clinic cards with images

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ Location detected โข Found 12 clinics within 10 km           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโฌโโโโโโโโโโโโโฌโโโโโโโโโโโโโฌโโโโโโโโโโโโโ
โ [Image]    โ [Image]    โ [Image]    โ [Image]    โ
โ [1.4 km]   โ [1.6 km]   โ [1.7 km]   โ [1.7 km]   โ
โ            โ            โ            โ            โ
โ Mother's   โ Madhavan   โ Teja       โ Mahalakshmiโ
โ Specialty  โ Eye Care   โ Hospital   โ Hospital   โ
โ Hospital   โ            โ            โ            โ
โ            โ            โ            โ            โ
โ[View Docs] โ[View Docs] โ[View Docs] โ[View Docs] โ
โโโโโโโโโโโโโโดโโโโโโโโโโโโโดโโโโโโโโโโโโโดโโโโโโโโโโโโโ
```

**Features:**
- โ Visual clinic images
- โ Distance badge on each card
- โ Clean, browsable grid layout
- โ Best for exploring all nearby options

---

## View Mode 2: Detailed List (Search Active)

**When:** Nearby mode is ON AND user types a **search term** (e.g., "ENT")

**Display:** List of clinics with specialty and doctor information

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ Location detected โข Found 5 clinics within 10 km matching   โ
โ "ENT"                                                        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ฅ City Medical Center              0 doctors           โบ   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ฉบ Teja Hospital                                         โบ   โ
โ    ๐ฉบ ENT specialists  โข 1 doctors  โข 1.7 km away           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ฉบ Mahalakshmi Hospital                                  โบ   โ
โ    ๐ฉบ ENT specialists  โข 1 doctors  โข 1.7 km away           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ฉบ Mother's Specialty Hospital                           โบ   โ
โ    ๐ฉบ ENT specialists  โข 1 doctors  โข 1.4 km away           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ฉบ ESSVEE Hospital                                       โบ   โ
โ    ๐ฉบ ENT specialists  โข 1 doctors  โข [distance]            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ฉบ Madhavan Eye Care                                     โบ   โ
โ    ๐ฉบ ENT specialists  โข 1 doctors  โข 1.6 km away           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ฉบ Clinic1                                               โบ   โ
โ    ๐ฉบ ENT specialists  โข 1 doctors  โข [distance]            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**Features:**
- โ Shows **specialty information** (e.g., "ENT specialists")
- โ Shows **number of matching doctors** (e.g., "1 doctors")
- โ Shows **distance badge** inline
- โ Compact list format for easy scanning
- โ Click any row to see full doctor details
- โ Perfect for specialty-focused searches

---

## Automatic View Switching

### Scenario 1: Start Browsing
```
User Action          Display Mode
โโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโ
1. Toggle ON         โ Card Grid (all nearby clinics)
2. Browse clinics    โ Card Grid (visual browsing)
```

### Scenario 2: Search for Specialty
```
User Action          Display Mode
โโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโ
1. Toggle ON         โ Card Grid (all nearby clinics)
2. Type "ENT"        โ LIST VIEW (shows ENT info)
3. Click hospital    โ Navigate to details
```

### Scenario 3: Clear Search
```
User Action          Display Mode
โโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโ
1. List view active  โ List (showing ENT results)
2. Clear search      โ Card Grid (back to visual browse)
```

---

## List View Details

### Information Shown Per Clinic

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ฅ [Clinic Icon] Hospital Name                           โบ  โ
โ                                                              โ
โ    ๐ฉบ [Specialty Badge] โข [Doctor Count] โข [Distance]       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**Components:**
1. **Clinic Icon** - Building icon in blue circle
2. **Hospital Name** - Bold, prominent text
3. **Specialty Badge** - Purple icon + text (e.g., "ENT specialists")
4. **Doctor Count** - Secondary badge (e.g., "1 doctors")
5. **Distance Badge** - Green badge (e.g., "1.7 km away")
6. **Chevron** - Right arrow for navigation

### When Multiple Specialties Match

If a clinic has multiple matching doctors with different specialties:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ฉบ Apollo Hospital                                       โบ   โ
โ    ๐ฉบ ENT, Cardiology specialists โข 3 doctors โข 2.1 km      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### When Clinic Has No Matching Doctors

If clinic appears but has no doctors matching the search:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ฅ City Medical Center              0 doctors           โบ   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```
(This clinic matched by name/location, not by specialty)

---

## User Interactions

### In List View

| Action | Result |
|--------|--------|
| Click any clinic row | Navigate to clinic details page |
| Hover over row | Row highlights with shadow effect |
| Clear search box | Switch back to card grid view |
| Type different term | List updates with new matches |

### In Card Grid View

| Action | Result |
|--------|--------|
| Click "View Doctors" | Navigate to clinic details page |
| Start typing search | Switch to list view |
| Hover over card | Card elevates slightly |
| Scroll | Load more cards (if many results) |

---

## Responsive Behavior

### Mobile (< 768px)

**List View:**
- Full width rows
- Stack specialty info below hospital name
- Larger touch targets
- Distance badge wraps if needed

**Card View:**
- 1 column grid
- Larger cards for touch
- Distance badge prominent

### Tablet (768px - 1024px)

**List View:**
- Same as mobile, slightly wider rows
- More content per row

**Card View:**
- 2 column grid
- Medium-sized cards

### Desktop (> 1024px)

**List View:**
- Wide rows showing all info inline
- Compact, scannable format
- Hover effects

**Card View:**
- 3-4 column grid
- Full-sized images
- Hover elevate effects

---

## Code Logic

```typescript
{nearbyEnabled ? (
  filteredNearbyClinics.length === 0 ? (
    <EmptyState />
  ) : searchTerm.trim() ? (
    <ListView clinics={filteredNearbyClinics} />  // โ Shows list with specialty info
  ) : (
    <CardGridView clinics={filteredNearbyClinics} />  // โ Shows image cards
  )
) : (
  <DefaultAllClinicsView />
)}
```

**Decision Tree:**
1. Is nearby mode enabled?
   - No โ Show all clinics
   - Yes โ Continue...
2. Are there results?
   - No โ Show empty state
   - Yes โ Continue...
3. Is there a search term?
   - Yes โ Show **LIST VIEW** with specialty details
   - No โ Show **CARD GRID** with images

---

## Benefits of Dual View System

### List View Benefits
โ Shows relevant information immediately (specialty, doctor count)  
โ More compact - shows more results at once  
โ Easier to scan when you know what you're looking for  
โ Better for search-focused users  
โ Displays distance inline with other info  

### Card Grid Benefits
โ Visual representation with images  
โ Better for browsing/exploration  
โ More engaging and attractive  
โ Easier to recognize familiar clinics  
โ Better for users without specific needs  

---

## Examples by Use Case

### Use Case 1: "I need an ENT specialist nearby"
```
1. Toggle ON nearby
2. Type "ENT"
3. See LIST VIEW with:
   - All clinics with ENT doctors
   - How many ENT doctors each has
   - Distance to each clinic
4. Click to book appointment
```

### Use Case 2: "What clinics are near me?"
```
1. Toggle ON nearby
2. Don't search
3. See CARD GRID with:
   - Visual layout of all nearby clinics
   - Images to recognize familiar places
   - Distance badges
4. Browse and explore options
```

### Use Case 3: "Find Dr. Kumar nearby"
```
1. Toggle ON nearby
2. Type "Kumar"
3. See LIST VIEW with:
   - Only clinics where Dr. Kumar works
   - Dr. Kumar's specialty
   - Distance to those clinics
4. Click to see schedule
```

---

## Accessibility

### List View
- โ Keyboard navigable (Tab through rows)
- โ Enter key to select clinic
- โ Screen readers announce specialty and distance
- โ High contrast for specialty badges
- โ Clear focus indicators

### Card Grid View
- โ Grid maintains reading order
- โ Images have alt text
- โ Cards keyboard accessible
- โ Distance badges readable by screen readers

---

## Future Enhancements

1. **Toggle Button** - Let users manually switch between views
2. **Remember Preference** - Save user's preferred view in localStorage
3. **Sort Options** - Sort list by distance, rating, or doctor count
4. **Expand/Collapse** - Show doctor names inline in list view
5. **Map View** - Third view mode showing clinics on map
